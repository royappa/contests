<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<!-- Mirrored from spoj.sphere.pl/problems/MAYACAL/ by HTTrack Website Copier/3.x [XR&CO'2005], Tue, 10 Jan 2006 04:51:57 GMT -->
<head>
<title>Sphere Online Judge (SPOJ)  - Problem MAYACAL</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
<META NAME="Keywords" CONTENT="spoj, online, judge, problem, set, problemset, archive, ACM, Polish, Poland, contest, contester, task, tasks, ADA, Java, Pascal, C, C++, Whitespace, sphere, interest, group, python, ruby, icon, o'caml, caml, ocaml, perl, haskell, bf, brain, clips, prolog, fortran, asm, assembler, asembler, functional, esoteric, programming, languages">

<link href="https://spoj.sphere.pl/gfx/favicon" rel="shortcut icon" type="image/x-icon">

<link href="../../themes/skin3.css" rel="stylesheet" type="text/css" id="theme">
<style type="text/css">
<!--
.maintable {width: 755;} 
-->
</style>
<script type="text/javascript" language="javascript">
<!--
function UnCryptMailto(s) {
	var n=0;
	var r="";
	for(var i=0;i<s.length;i++) {		
		n=s.charCodeAt(i); 
		if (n>=8364) {n = 128;}
		r += String.fromCharCode(n+(2));	
	}
	return r;
}
function linkTo_UnCryptMailto(s)	{
	location.href=UnCryptMailto(s);
}
// -->
</script>

</head>
<body>
<center>
<table cellpadding="10" cellspacing="0" class="maintable" id="maintable">
<tr>
    <td colspan="2" class="header">
        <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr>
		<td class="headerleft"/>
		<td class="headercenter"><h1>Sphere Online Judge</h1></td>
		<td class="headerright"/>
	</tr>
	</table>
    </td>
</tr>
<tr><td class="menu" width="92" valign="top">
<form name="login"  action="http://spoj.sphere.pl/problems/MAYACAL/" method="post" 
	onsubmit="if(document.login.ssl.checked) document.login.action='https://spoj.sphere.pl/problems/MAYACAL/'" style="margin-bottom: 18px"> 
User: <input name="login_user" type="text" style="width: 85px;" class="form"><BR>
Password: <input name="password" type="password" style="width: 85px;" class="form"><BR>
<script language="javascript" type="text/javascript">
<!--
document.write('<input type="checkbox" name="ssl" id="ssl" checked>secure<br>');
//-->
</script>
<input name="submit" type="submit" value="Log In" class="button" style="width: 85px;">
</form><div class="menucmd"><a href="https://spoj.sphere.pl/register">register</a><br><br><a href="https://spoj.sphere.pl/status">status</a><br><a href="https://spoj.sphere.pl/submit">submit</a><br><a href="../classical/sort=7,start=0.html">problems</a><br><br><a href="https://spoj.sphere.pl/">news</a><br><a href="https://spoj.sphere.pl/contests">contests</a><br><a href="https://spoj.sphere.pl/info">info</a><br><a href="https://spoj.sphere.pl/ranks/">ranks</a><br><br><a href="https://spoj.sphere.pl/forum">forum</a><br><a href="https://spoj.sphere.pl/help">help</a><br><a href="https://spoj.sphere.pl/links">links</a><br><hr></div>Server time:<br>2006-01-10<br>05:48:12<a href="../classical/sort=7,start=0.html"></a><br><br>
<form method="get" action="https://spoj.sphere.pl/search/" class="form" style="width:90px">
<input type="text" name="query" style="width:85px" maxlength=255 value="" class="form"><br>
<input type="submit" value="Search" style="width:85px" class="form" title="Search site"><br>
&nbsp;<a href="https://spoj.sphere.pl/search/problems=on,users=on,contests=on" title="More search options"><small>advanced...</small></a>
</form></td><td class="content" width="99%"><table class="problems" width="100%">
<tr class="navigation">
<td><a href="https://spoj.sphere.pl/submit/MAYACAL/">Submit</a></td>
<td><a href="https://spoj.sphere.pl/status/MAYACAL/">All submissions</a></td>
<td><a href="https://spoj.sphere.pl/ranks/MAYACAL/">Best solutions</a></td>
<td><a href="https://spoj.sphere.pl/problems/MAYACAL.ps">PS</a></td>
<td><a href="https://spoj.sphere.pl/problems/MAYACAL.pdf">PDF</a></td>
<td><a href="../classical/sort=7,start=0.html">Back to list</a></td>
</tr>
</table>

<div class="prob">

<h2>SPOJ Problem Set </h2>
<h1>107. Calendar of the Maya</h1>
<h2>Problem code: MAYACAL</h2>
<p align="justify">
<p>
	The Classical Maya civilization developed in what is today southern Mexico, 
	Guatemala, Belize and northern Honduras. During its height they developed a 
	sophisticated system for time keeping which they used both to record history 
	and for divinatory rituals. Their calendar consisted of 3 components. the 
	Tzolkin, the Haab and the Long Count.
</p>
<p>
	For divinatory purposes the Maya used the Tzolkin which was composed of 20 day 
	names to which numeric coefficients from 1 to 13 were attached giving a total 
	of 260 distinct combinations. This is the size of the Tzolkin, or ritual, year. 
	From Spanish colonial sources, we know the names of the days: <tt>Imix, Ik, Akbal, 
		Kan, Chikchan, Kimi, Manik, Lamat, Muluk, Ok, Chuen, Eb, Ben, Ix, Men, Kib, 
		Kaban, Etznab, Kawak, Ajaw</tt>. The sequence of days developed as follows 
	(starting for example at 9 Imix):
	<pre>9 Imix, 10 Ik, 11 Akbal, 12 Kan, 13 Chikchan, 1 Kimi, 2 Manik, ...</pre>
<P></P>
<p>
	The Haab calendar was an astronomical one. It had 365 days divided into 19 
	months each with 20 days, except the last one which had only 5 days. In a 
	manner similar to the Tzolkin each month name had a number from 1 to 20 
	indicating the day number within the month. Again, from Spanish colonial 
	sources, we know the names of the months: <tt>Pohp, Wo, Sip, Zotz, Sek, Xul, 
		Yaxkin, Mol, Chen, Yax, Sak, Keh, Mak, Kankin, Muan, Pax, Kayab, Kumku, Wayeb</tt>. 
	The month Wayeb had just 5 days and was considered an unlucky time of the year.
</p>
<p>
	The Tzolkin and Haab were combined in the inscriptions to create the Calendar 
	Round, combining the 260 day cycle of the Tzolkin and the 365 day cycle of the 
	Haab. A typical Calendar Round date in the inscriptions might be. 3 Lamat 6 
	Pax. Note that not all of the combination of days, months and coefficients are 
	possible.
</p>
<p>
	A typical sequence of days in the Calendar Round (starting for example at 3 
	Lamat 6 Pax):
	<pre>
3 Lamat 6 Pax, 4 Muluk 7 Pax, 5 Ok 8 Pax, 6 Chuen 9 Pax, 7 Eb 10 Pax, 
8 Ben 11 Pax, 9 Ix 12 Pax, 10 Men 13 Pax, 11 Kib 14 Pax, 12 Kaban 15 Pax, 
13 Etznab 16 Pax, 1 Kawak 17 Pax, 2 Ajaw 18 Pax, 3 Imix 19 Pax, 4 Ik 20 Pax, 
5 Akbal 1 Kayab, 6 Kan 2 Kayab, ... 
</pre>
<P></P>
<p>
	Finally, at the beginning of the Classic Period (AD 200 - 900), the Maya 
	developed an absolute calendar called Long Count which counted the days from a 
	fixed date in the past (the date when the current world was created according 
	to Maya belief). Dates in the Long Count are given (for simplicity) in 5-tuples 
	of the form. 9.2.3.4.5. Such a date one reads "9 baktuns 2 katuns 3 tuns 4 
	winals 5 kins since the zero date". A "kin" is just one day. A winal is a group 
	of 20 days. A tun is a group of 18 winals (thus a tun has 20*18 = 360 days, 5 
	days short of a year). From here on all units come in multiples of 20. Thus a 
	katun is equal to 20 tuns (almost 20 years) and a baktun means 20 katuns 
	(almost 400 years). Thus 9.2.3.4.5 really means "9*144000+2*7200+3*360+4*20+5 
	days since the zero date". Note that for every Long Count date b.k.t.w.i we 
	have 0 &lt;= k &lt; 20; 0 &lt;= t &lt; 20; 0 &lt;= w &lt; 18; 0 &lt;= i &lt; 
	20. Given the periodicity of the Calendar Round, a legal date such as 3 Lamat 6 
	Pax has multiple occurrences in the Long Count. Thus, one difficulty in reading 
	inscriptions is in establishing a date for the inscription when the date is 
	given only in terms of a Calendar Round (very common). In this case one must 
	compute "all" the possible Long Count dates associated with the particular 
	Calendar Round and based in some other context information deduce (for example, 
	the text mentions a king for which other dates are known) which one applies.
</p>
<p>
	We limit our interest to the Long Count dates in the baktuns 8 and 9 (they 
	cover all the Classic Period). We know that the Long Count date 8.0.0.0.0 fell 
	on the Calendar Round 9 Ajaw 3 Sip.
</p>
<h3>Task</h3>
<p>Write a program that:</p>
<div align="justify">
	<ul>
		<li>
		reads a Calendar Round date,
		<li>
		computes all Long Count dates in the baktuns 8 and 9 for the given Calendar 
		Round date if this date is legal,
		<li>
			writes the result.</li>
	</ul>
</div>
<h3>Input</h3>
<p>
	The first line of the input contains exactly one positive integer d equal to 
	the number of data sets, 1 &lt;= d &lt;= 30. The data sets follow.
</p>
<p>
	Each data set consists of exactly one line that contains exactly one Calendar 
	Round date (maybe illegal). Tzolkin day number, Tzolkin day name, Haab day 
	number and Haab month name separated by single spaces.
</p>
<h3>Output</h3>
<p>
	For every data set your program must output an ascending sequence of Long Count 
	dates computed for a given Calendar Round date. The first line of the output 
	for the given input set should contain exactly one integer n equal to the 
	length of the sequence (0, if the input date is illegal).
</p>
<p>
	Each of the next n lines should contain exactly one Long Count date specified 
	by exactly 5 integers (meaning the numbers of baktuns, katuns, tuns, winals and 
	kins respectively) separated by single dots.
</p>
<h3>Example</h3>
<pre><b><tt>Sample input:</tt></b>
2 
3 Lamat 6 Pax 
1 Ajaw 9 Chen 

<b><tt>Sample output:</tt></b>
15 
8.0.17.17.8 
8.3.10.12.8 
8.6.3.7.8 
8.8.16.2.8 
8.11.8.15.8 
8.14.1.10.8 
8.16.14.5.8 
8.19.7.0.8 
9.1.19.13.8 
9.4.12.8.8 
9.7.5.3.8 
9.9.17.16.8 
9.12.10.11.8 
9.15.3.6.8 
9.17.16.1.8 
0 

</pre>


<hr>
<table border=0 cellspacing=0 cellpadding=0 align=left>
<tr><td width=130>Added by:</td><td><a href="https://spoj.sphere.pl/search/'Adrian%20Kosowski'">Adrian Kosowski</a></td></tr>
<tr><td>Date:</td><td>2004-07-02</td></tr>
<tr><td>Time limit:</td><td>3s
</td></tr>
<tr><td>Source limit:</td><td>50000B</td></tr>
<tr><td>Resource:</td><td>ACM Central European Programming Contest, Warsaw 2001</td></tr></table>
</div></td>
</tr>

<tr>
<td colspan="2" class="footer">

<script language="javascript" type="text/javascript">
<!--
function swapSheet(sheet, caller) {
    document.getElementById('theme').href=sheet;
    document.cookie="css_0="+sheet+"; path=/;";
    caller.href="#bottom";
}

function setWidth(w, caller) {
    document.getElementById('maintable').style.width=w;
    document.cookie="res="+w+"; path=/;";
    caller.href="#bottom";
}
//-->

</script>
        <table width="100%">
    <tr>
	<td align="left">
            <a href="http://www.pg.gda.pl/eng.html"><IMG src="https://spoj.sphere.pl/gfx/logo-pg" alt="www.pg.gda.pl" border=0 height=36 width=44></a>&nbsp;
            <a href="http://www.eti.pg.gda.pl/"><IMG src="https://spoj.sphere.pl/gfx/logo-eti" alt="www.eti.pg.gda.pl" border=0 height=36 width=44></a>
	</td>
	<td align="center">
	    page size:
	    <a href="https://spoj.sphere.pl/?res=755"  onClick="setWidth('755', this)">800x600</a>
	    <a href="https://spoj.sphere.pl/?res=980"  onClick="setWidth('980', this)">1024x768</a>
	    <a href="https://spoj.sphere.pl/?res=100%" onClick="setWidth('100%', this)">Full</a>
	    &nbsp;&nbsp;
	    theme:
	    <a href="../../indexb6a4.html?css=/themes/skin1.css" onClick="swapSheet('../../themes/skin1.css', this)">olive</a>
	    <a href="../../index3840.html?css=/themes/skin2.css" onClick="swapSheet('../../themes/skin2.css', this)">banana</a>
	    <a href="../../index80f0.html?css=/themes/skin3.css" onClick="swapSheet('../../themes/skin3.css', this)">plum</a>
	    <br>
	    <a href="http://sphere.pl/?id=66">spoj team at sphere</a> &copy; 2004-05 all rights reserved
	</td>
	<td align="right">
            <a href="http://task.gda.pl/english/"><IMG src="https://spoj.sphere.pl/gfx/logo-task" alt="task.gda.pl" border=0 height=36 width=44></a>&nbsp;
            <a href="http://sphere.pl/"><IMG src="https://spoj.sphere.pl/gfx/logo-sphere" alt="sphere.pl" border=0 height=32></a>
	</td>
    </tr>
    </table>
    </tr></table>
</center>
</body>

<!-- Mirrored from spoj.sphere.pl/problems/MAYACAL/ by HTTrack Website Copier/3.x [XR&CO'2005], Tue, 10 Jan 2006 04:51:57 GMT -->
</html>