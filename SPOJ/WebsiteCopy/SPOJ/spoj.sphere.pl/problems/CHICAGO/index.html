<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<!-- Mirrored from spoj.sphere.pl/problems/CHICAGO/ by HTTrack Website Copier/3.x [XR&CO'2005], Tue, 10 Jan 2006 04:57:22 GMT -->
<head>
<title>Sphere Online Judge (SPOJ)  - Problem CHICAGO</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
<META NAME="Keywords" CONTENT="spoj, online, judge, problem, set, problemset, archive, ACM, Polish, Poland, contest, contester, task, tasks, ADA, Java, Pascal, C, C++, Whitespace, sphere, interest, group, python, ruby, icon, o'caml, caml, ocaml, perl, haskell, bf, brain, clips, prolog, fortran, asm, assembler, asembler, functional, esoteric, programming, languages">

<link href="https://spoj.sphere.pl/gfx/favicon" rel="shortcut icon" type="image/x-icon">

<link href="../../themes/skin3.css" rel="stylesheet" type="text/css" id="theme">
<style type="text/css">
<!--
.maintable {width: 755;} 
-->
</style>
<script type="text/javascript" language="javascript">
<!--
function UnCryptMailto(s) {
	var n=0;
	var r="";
	for(var i=0;i<s.length;i++) {		
		n=s.charCodeAt(i); 
		if (n>=8364) {n = 128;}
		r += String.fromCharCode(n+(2));	
	}
	return r;
}
function linkTo_UnCryptMailto(s)	{
	location.href=UnCryptMailto(s);
}
// -->
</script>

</head>
<body>
<center>
<table cellpadding="10" cellspacing="0" class="maintable" id="maintable">
<tr>
    <td colspan="2" class="header">
        <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr>
		<td class="headerleft"/>
		<td class="headercenter"><h1>Sphere Online Judge</h1></td>
		<td class="headerright"/>
	</tr>
	</table>
    </td>
</tr>
<tr><td class="menu" width="92" valign="top">
<form name="login"  action="http://spoj.sphere.pl/problems/CHICAGO/" method="post" 
	onsubmit="if(document.login.ssl.checked) document.login.action='https://spoj.sphere.pl/problems/CHICAGO/'" style="margin-bottom: 18px"> 
User: <input name="login_user" type="text" style="width: 85px;" class="form"><BR>
Password: <input name="password" type="password" style="width: 85px;" class="form"><BR>
<script language="javascript" type="text/javascript">
<!--
document.write('<input type="checkbox" name="ssl" id="ssl" checked>secure<br>');
//-->
</script>
<input name="submit" type="submit" value="Log In" class="button" style="width: 85px;">
</form><div class="menucmd"><a href="https://spoj.sphere.pl/register">register</a><br><br><a href="https://spoj.sphere.pl/status">status</a><br><a href="https://spoj.sphere.pl/submit">submit</a><br><a href="../classical/sort=2,start=300.html">problems</a><br><br><a href="https://spoj.sphere.pl/">news</a><br><a href="https://spoj.sphere.pl/contests">contests</a><br><a href="https://spoj.sphere.pl/info">info</a><br><a href="https://spoj.sphere.pl/ranks/">ranks</a><br><br><a href="https://spoj.sphere.pl/forum">forum</a><br><a href="https://spoj.sphere.pl/help">help</a><br><a href="https://spoj.sphere.pl/links">links</a><br><hr></div>Server time:<br>2006-01-10<br>05:50:24<a href="../classical/sort=2,start=300.html"></a><br><br>
<form method="get" action="https://spoj.sphere.pl/search/" class="form" style="width:90px">
<input type="text" name="query" style="width:85px" maxlength=255 value="" class="form"><br>
<input type="submit" value="Search" style="width:85px" class="form" title="Search site"><br>
&nbsp;<a href="https://spoj.sphere.pl/search/problems=on,users=on,contests=on" title="More search options"><small>advanced...</small></a>
</form></td><td class="content" width="99%"><table class="problems" width="100%">
<tr class="navigation">
<td><a href="https://spoj.sphere.pl/submit/CHICAGO/">Submit</a></td>
<td><a href="https://spoj.sphere.pl/status/CHICAGO/">All submissions</a></td>
<td><a href="https://spoj.sphere.pl/ranks/CHICAGO/">Best solutions</a></td>
<td><a href="https://spoj.sphere.pl/problems/CHICAGO.ps">PS</a></td>
<td><a href="https://spoj.sphere.pl/problems/CHICAGO.pdf">PDF</a></td>
<td><a href="../classical/sort=2,start=300.html">Back to list</a></td>
</tr>
</table>

<div class="prob">

<h2>SPOJ Problem Set </h2>
<h1>381. 106 miles to Chicago</h1>
<h2>Problem code: CHICAGO</h2>
<p align="justify">
<p>
In the movie "Blues Brothers", the orphanage where Elwood and Jack were
raised
may be sold to the Board of Education if they do not pay 5000 dollars
in taxes at the Cook Country Assessor's Office in Chicago.
After playing a gig in the Palace Hotel ballroom to earn these 5000
dollars,
they have to find a way to Chicago. However, this is not so easy as it
sounds,
since they are chased by the Police, a country band and a group of
Nazis.
Moreover, it is 106 miles to Chicago, it is dark and they are wearing
sunglasses.<br>
As they are on a mission from God, you should help them find the safest
way
to Chicago. In this problem, the safest way is considered to be the
route
which maximises the probability that they are not caught.
</p>
<h3>Input Specification</h3>
<p>The input file contains several test cases.<br>
Each test case starts with two integers <i>n</i> and <i>m</i> (<i>2 &#8804; n &#8804; 100</i>
, <i>1 &#8804; m &#8804; n*(n-1)/2</i>).
<i>n</i> is the number of intersections, <i>m</i> is the number of
streets to be considered.<br>
The next <i>m</i> lines contain the description of the streets.
Each street is described by a line containing 3 integers <i>a</i>, <i>b</i> and <i>p</i>
(<i>1 &#8804; a, b &#8804; n</i> , <i>a &#8800; b</i>, 1 &#8804; p &le 100):
<i>a</i> and <i>b</i> are the two end points of the street
and <i>p</i> is the probability in percent that the Blues Brothers will manage
to use this street without being caught.
Each street can be used in both directions.
You may assume that there is at most one street between two end points.
<br>
The last test case is followed by a zero.
</p>
<h3>Output Specification</h3>
<p>For each test case, calculate the probability of the safest path
from
intersection <i>1</i> (the Palace Hotel) to intersection <i>n</i>
(the
Honorable Richard J. Daley Plaza in Chicago).
You can assume that there is at least one path between intersection
<i>1</i> and <i>n</i>.<br>
Print the probability as a percentage with exactly 6 digits after the decimal point.
The percentage value is considered correct if it differs by at most 10<sup>-6</sup> from the judge output.
Adhere to the format shown below and print one line for each test case.
</p>
<h3>Sample Input</h3>
<pre>5 7
5 2 100
3 5 80
2 3 70
2 1 50
3 4 90
4 1 85
3 1 70
0
</pre>
<h3>Sample Output</h3>
<pre>61.200000 percent
</pre>
<hr>
<i>The safest path for the sample input is 1 -> 4 -> 3 -> 5</i>

<hr>
<table border=0 cellspacing=0 cellpadding=0 align=left>
<tr><td width=130>Added by:</td><td><a href="https://spoj.sphere.pl/search/'Adrian%20Kuegel'">Adrian Kuegel</a></td></tr>
<tr><td>Date:</td><td>2005-06-24</td></tr>
<tr><td>Time limit:</td><td>5s
</td></tr>
<tr><td>Source limit:</td><td>50000B</td></tr>
<tr><td>Resource:</td><td>University of Ulm Local Contest 2005</td></tr></table>
</div></td>
</tr>

<tr>
<td colspan="2" class="footer">

<script language="javascript" type="text/javascript">
<!--
function swapSheet(sheet, caller) {
    document.getElementById('theme').href=sheet;
    document.cookie="css_0="+sheet+"; path=/;";
    caller.href="#bottom";
}

function setWidth(w, caller) {
    document.getElementById('maintable').style.width=w;
    document.cookie="res="+w+"; path=/;";
    caller.href="#bottom";
}
//-->

</script>
        <table width="100%">
    <tr>
	<td align="left">
            <a href="http://www.pg.gda.pl/eng.html"><IMG src="https://spoj.sphere.pl/gfx/logo-pg" alt="www.pg.gda.pl" border=0 height=36 width=44></a>&nbsp;
            <a href="http://www.eti.pg.gda.pl/"><IMG src="https://spoj.sphere.pl/gfx/logo-eti" alt="www.eti.pg.gda.pl" border=0 height=36 width=44></a>
	</td>
	<td align="center">
	    page size:
	    <a href="https://spoj.sphere.pl/?res=755"  onClick="setWidth('755', this)">800x600</a>
	    <a href="https://spoj.sphere.pl/?res=980"  onClick="setWidth('980', this)">1024x768</a>
	    <a href="https://spoj.sphere.pl/?res=100%" onClick="setWidth('100%', this)">Full</a>
	    &nbsp;&nbsp;
	    theme:
	    <a href="../../indexb6a4.html?css=/themes/skin1.css" onClick="swapSheet('../../themes/skin1.css', this)">olive</a>
	    <a href="../../index3840.html?css=/themes/skin2.css" onClick="swapSheet('../../themes/skin2.css', this)">banana</a>
	    <a href="../../index80f0.html?css=/themes/skin3.css" onClick="swapSheet('../../themes/skin3.css', this)">plum</a>
	    <br>
	    <a href="http://sphere.pl/?id=66">spoj team at sphere</a> &copy; 2004-05 all rights reserved
	</td>
	<td align="right">
            <a href="http://task.gda.pl/english/"><IMG src="https://spoj.sphere.pl/gfx/logo-task" alt="task.gda.pl" border=0 height=36 width=44></a>&nbsp;
            <a href="http://sphere.pl/"><IMG src="https://spoj.sphere.pl/gfx/logo-sphere" alt="sphere.pl" border=0 height=32></a>
	</td>
    </tr>
    </table>
    </tr></table>
</center>
</body>

<!-- Mirrored from spoj.sphere.pl/problems/CHICAGO/ by HTTrack Website Copier/3.x [XR&CO'2005], Tue, 10 Jan 2006 04:57:22 GMT -->
</html>