<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<!-- Mirrored from spoj.sphere.pl/problems/ALICEBOB/ by HTTrack Website Copier/3.x [XR&CO'2005], Tue, 10 Jan 2006 04:51:57 GMT -->
<head>
<title>Sphere Online Judge (SPOJ)  - Problem ALICEBOB</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
<META NAME="Keywords" CONTENT="spoj, online, judge, problem, set, problemset, archive, ACM, Polish, Poland, contest, contester, task, tasks, ADA, Java, Pascal, C, C++, Whitespace, sphere, interest, group, python, ruby, icon, o'caml, caml, ocaml, perl, haskell, bf, brain, clips, prolog, fortran, asm, assembler, asembler, functional, esoteric, programming, languages">

<link href="https://spoj.sphere.pl/gfx/favicon" rel="shortcut icon" type="image/x-icon">

<link href="../../themes/skin3.css" rel="stylesheet" type="text/css" id="theme">
<style type="text/css">
<!--
.maintable {width: 755;} 
-->
</style>
<script type="text/javascript" language="javascript">
<!--
function UnCryptMailto(s) {
	var n=0;
	var r="";
	for(var i=0;i<s.length;i++) {		
		n=s.charCodeAt(i); 
		if (n>=8364) {n = 128;}
		r += String.fromCharCode(n+(2));	
	}
	return r;
}
function linkTo_UnCryptMailto(s)	{
	location.href=UnCryptMailto(s);
}
// -->
</script>

</head>
<body>
<center>
<table cellpadding="10" cellspacing="0" class="maintable" id="maintable">
<tr>
    <td colspan="2" class="header">
        <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr>
		<td class="headerleft"/>
		<td class="headercenter"><h1>Sphere Online Judge</h1></td>
		<td class="headerright"/>
	</tr>
	</table>
    </td>
</tr>
<tr><td class="menu" width="92" valign="top">
<form name="login"  action="http://spoj.sphere.pl/problems/ALICEBOB/" method="post" 
	onsubmit="if(document.login.ssl.checked) document.login.action='https://spoj.sphere.pl/problems/ALICEBOB/'" style="margin-bottom: 18px"> 
User: <input name="login_user" type="text" style="width: 85px;" class="form"><BR>
Password: <input name="password" type="password" style="width: 85px;" class="form"><BR>
<script language="javascript" type="text/javascript">
<!--
document.write('<input type="checkbox" name="ssl" id="ssl" checked>secure<br>');
//-->
</script>
<input name="submit" type="submit" value="Log In" class="button" style="width: 85px;">
</form><div class="menucmd"><a href="https://spoj.sphere.pl/register">register</a><br><br><a href="https://spoj.sphere.pl/status">status</a><br><a href="https://spoj.sphere.pl/submit">submit</a><br><a href="../classical/sort=7,start=0.html">problems</a><br><br><a href="https://spoj.sphere.pl/">news</a><br><a href="https://spoj.sphere.pl/contests">contests</a><br><a href="https://spoj.sphere.pl/info">info</a><br><a href="https://spoj.sphere.pl/ranks/">ranks</a><br><br><a href="https://spoj.sphere.pl/forum">forum</a><br><a href="https://spoj.sphere.pl/help">help</a><br><a href="https://spoj.sphere.pl/links">links</a><br><hr></div>Server time:<br>2006-01-10<br>05:48:09<a href="../classical/sort=7,start=0.html"></a><br><br>
<form method="get" action="https://spoj.sphere.pl/search/" class="form" style="width:90px">
<input type="text" name="query" style="width:85px" maxlength=255 value="" class="form"><br>
<input type="submit" value="Search" style="width:85px" class="form" title="Search site"><br>
&nbsp;<a href="https://spoj.sphere.pl/search/problems=on,users=on,contests=on" title="More search options"><small>advanced...</small></a>
</form></td><td class="content" width="99%"><table class="problems" width="100%">
<tr class="navigation">
<td><a href="https://spoj.sphere.pl/submit/ALICEBOB/">Submit</a></td>
<td><a href="https://spoj.sphere.pl/status/ALICEBOB/">All submissions</a></td>
<td><a href="https://spoj.sphere.pl/ranks/ALICEBOB/">Best solutions</a></td>
<td><a href="https://spoj.sphere.pl/problems/ALICEBOB.ps">PS</a></td>
<td><a href="https://spoj.sphere.pl/problems/ALICEBOB.pdf">PDF</a></td>
<td><a href="../classical/sort=7,start=0.html">Back to list</a></td>
</tr>
</table>

<div class="prob">

<h2>SPOJ Problem Set </h2>
<h1>105. Alice and Bob</h1>
<h2>Problem code: ALICEBOB</h2>
<p align="justify">
<p>
	This is a puzzle for two persons, let's say Alice and Bob. Alice draws an 
	n-vertex convex polygon and numbers its vertices with integers 1, 2, ... , n in 
	an arbitrary way. Then she draws a number of noncrossing diagonals (the 
	vertices of the polygon are not considered to be crossing points). She informs 
	Bob about the sides and the diagonals of the polygon but not telling him which 
	are which. Each side and diagonal is specified by its ends. Bob has to guess 
	the order of the vertices on the border of the polygon. Help him solve the 
	puzzle.
</p>
<p>
	If n = 4 and (1,3), (4,2), (1,2), (4,1), (2,3) are the ends of four sides and 
	one diagonal then the order of the vertices on the border of this polygon is 1, 
	3, 2, 4 (with the accuracy to shifting and reversing).
</p>
<h3>Task</h3>
<p>Write a program that:</p>
<div align="justify">
	<ul>
		<li>
		reads the description of sides and diagonals given to Bob by Alice,
		<li>
		computes the order of the vertices on the border of the polygon,
		<li>
			writes the result.</li>
	</ul>
</div>
<h3>Input</h3>
<p>
	The first line of the input contains exactly one positive integer d equal to 
	the number of data sets, 1 &lt;= d &lt;= 20. The data sets follow.
</p>
<p>
	Each data set consists of exactly two consecutive lines.
</p>
<p>
	The first of those lines contains exactly two integers n and m separated by a 
	single space, 3 &lt;= n &lt;= 10 000, 0 &lt;= m &lt;= n-3. Integer n is the 
	number of vertices of a polygon and integer m is the number of its diagonals, 
	respectively.
</p>
<p>
	The second of those lines contains exactly 2(m+n) integers separated by single 
	spaces. Those are ends of all sides and some diagonals of the polygon. Integers 
	a<sub>j</sub>, b<sub>j</sub> on positions 2j-1 and 2j, 1 &lt;= j &lt; = m+n, 1 
	&lt; = a<sub>j</sub> &lt;= n, 1 &lt; = b<sub>j</sub> &lt; = n, a<sub>j</sub> &lt;&gt; 
	b<sub>j</sub>, specify ends of a side or a diagonal. The sides and the 
	diagonals can be given in an arbitrary order. There are no duplicates. Alice 
	does not cheat, i.e. the puzzle always has a solution.
</p>
<h3>Output</h3>
<p>
Line i, 1 &lt;= i &lt; = d, should contain a sequence of n integers separated 
by single spaces - a permutation of 1, 2, ... , n, i.e. the numbers of 
subsequent vertices on the border of the polygon from the i-th data set, the 
sequence should always start from 1 and its second element should be the 
smaller vertex of the two border neighbours of vertex 1.
</p>
<h3>Example</h3>
<pre><b><tt>Sample input:</tt></b>
1 
4 1 
1 3 4 2 1 2 
4 1 2 3 

<B><TT>Sample output:</TT></B>
1 3 2 4 
</pre>

<b>Warning: large Input/Output data, be careful with certain languages</b>

<hr>
<table border=0 cellspacing=0 cellpadding=0 align=left>
<tr><td width=130>Added by:</td><td><a href="https://spoj.sphere.pl/search/'Adrian%20Kosowski'">Adrian Kosowski</a></td></tr>
<tr><td>Date:</td><td>2004-07-02</td></tr>
<tr><td>Time limit:</td><td>7s
</td></tr>
<tr><td>Source limit:</td><td>50000B</td></tr>
<tr><td>Resource:</td><td>ACM Central European Programming Contest, Warsaw 2001</td></tr></table>
</div></td>
</tr>

<tr>
<td colspan="2" class="footer">

<script language="javascript" type="text/javascript">
<!--
function swapSheet(sheet, caller) {
    document.getElementById('theme').href=sheet;
    document.cookie="css_0="+sheet+"; path=/;";
    caller.href="#bottom";
}

function setWidth(w, caller) {
    document.getElementById('maintable').style.width=w;
    document.cookie="res="+w+"; path=/;";
    caller.href="#bottom";
}
//-->

</script>
        <table width="100%">
    <tr>
	<td align="left">
            <a href="http://www.pg.gda.pl/eng.html"><IMG src="https://spoj.sphere.pl/gfx/logo-pg" alt="www.pg.gda.pl" border=0 height=36 width=44></a>&nbsp;
            <a href="http://www.eti.pg.gda.pl/"><IMG src="https://spoj.sphere.pl/gfx/logo-eti" alt="www.eti.pg.gda.pl" border=0 height=36 width=44></a>
	</td>
	<td align="center">
	    page size:
	    <a href="https://spoj.sphere.pl/?res=755"  onClick="setWidth('755', this)">800x600</a>
	    <a href="https://spoj.sphere.pl/?res=980"  onClick="setWidth('980', this)">1024x768</a>
	    <a href="https://spoj.sphere.pl/?res=100%" onClick="setWidth('100%', this)">Full</a>
	    &nbsp;&nbsp;
	    theme:
	    <a href="../../indexb6a4.html?css=/themes/skin1.css" onClick="swapSheet('../../themes/skin1.css', this)">olive</a>
	    <a href="../../index3840.html?css=/themes/skin2.css" onClick="swapSheet('../../themes/skin2.css', this)">banana</a>
	    <a href="../../index80f0.html?css=/themes/skin3.css" onClick="swapSheet('../../themes/skin3.css', this)">plum</a>
	    <br>
	    <a href="http://sphere.pl/?id=66">spoj team at sphere</a> &copy; 2004-05 all rights reserved
	</td>
	<td align="right">
            <a href="http://task.gda.pl/english/"><IMG src="https://spoj.sphere.pl/gfx/logo-task" alt="task.gda.pl" border=0 height=36 width=44></a>&nbsp;
            <a href="http://sphere.pl/"><IMG src="https://spoj.sphere.pl/gfx/logo-sphere" alt="sphere.pl" border=0 height=32></a>
	</td>
    </tr>
    </table>
    </tr></table>
</center>
</body>

<!-- Mirrored from spoj.sphere.pl/problems/ALICEBOB/ by HTTrack Website Copier/3.x [XR&CO'2005], Tue, 10 Jan 2006 04:51:57 GMT -->
</html>