<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<!-- Mirrored from spoj.sphere.pl/problems/ABWORDS/ by HTTrack Website Copier/3.x [XR&CO'2005], Tue, 10 Jan 2006 04:57:22 GMT -->
<head>
<title>Sphere Online Judge (SPOJ)  - Problem ABWORDS</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2">
<META NAME="Keywords" CONTENT="spoj, online, judge, problem, set, problemset, archive, ACM, Polish, Poland, contest, contester, task, tasks, ADA, Java, Pascal, C, C++, Whitespace, sphere, interest, group, python, ruby, icon, o'caml, caml, ocaml, perl, haskell, bf, brain, clips, prolog, fortran, asm, assembler, asembler, functional, esoteric, programming, languages">

<link href="https://spoj.sphere.pl/gfx/favicon" rel="shortcut icon" type="image/x-icon">

<link href="../../themes/skin3.css" rel="stylesheet" type="text/css" id="theme">
<style type="text/css">
<!--
.maintable {width: 755;} 
-->
</style>
<script type="text/javascript" language="javascript">
<!--
function UnCryptMailto(s) {
	var n=0;
	var r="";
	for(var i=0;i<s.length;i++) {		
		n=s.charCodeAt(i); 
		if (n>=8364) {n = 128;}
		r += String.fromCharCode(n+(2));	
	}
	return r;
}
function linkTo_UnCryptMailto(s)	{
	location.href=UnCryptMailto(s);
}
// -->
</script>

</head>
<body>
<center>
<table cellpadding="10" cellspacing="0" class="maintable" id="maintable">
<tr>
    <td colspan="2" class="header">
        <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr>
		<td class="headerleft"/>
		<td class="headercenter"><h1>Sphere Online Judge</h1></td>
		<td class="headerright"/>
	</tr>
	</table>
    </td>
</tr>
<tr><td class="menu" width="92" valign="top">
<form name="login"  action="http://spoj.sphere.pl/problems/ABWORDS/" method="post" 
	onsubmit="if(document.login.ssl.checked) document.login.action='https://spoj.sphere.pl/problems/ABWORDS/'" style="margin-bottom: 18px"> 
User: <input name="login_user" type="text" style="width: 85px;" class="form"><BR>
Password: <input name="password" type="password" style="width: 85px;" class="form"><BR>
<script language="javascript" type="text/javascript">
<!--
document.write('<input type="checkbox" name="ssl" id="ssl" checked>secure<br>');
//-->
</script>
<input name="submit" type="submit" value="Log In" class="button" style="width: 85px;">
</form><div class="menucmd"><a href="https://spoj.sphere.pl/register">register</a><br><br><a href="https://spoj.sphere.pl/status">status</a><br><a href="https://spoj.sphere.pl/submit">submit</a><br><a href="../classical/sort=2,start=300.html">problems</a><br><br><a href="https://spoj.sphere.pl/">news</a><br><a href="https://spoj.sphere.pl/contests">contests</a><br><a href="https://spoj.sphere.pl/info">info</a><br><a href="https://spoj.sphere.pl/ranks/">ranks</a><br><br><a href="https://spoj.sphere.pl/forum">forum</a><br><a href="https://spoj.sphere.pl/help">help</a><br><a href="https://spoj.sphere.pl/links">links</a><br><hr></div>Server time:<br>2006-01-10<br>05:50:24<a href="../classical/sort=2,start=300.html"></a><br><br>
<form method="get" action="https://spoj.sphere.pl/search/" class="form" style="width:90px">
<input type="text" name="query" style="width:85px" maxlength=255 value="" class="form"><br>
<input type="submit" value="Search" style="width:85px" class="form" title="Search site"><br>
&nbsp;<a href="https://spoj.sphere.pl/search/problems=on,users=on,contests=on" title="More search options"><small>advanced...</small></a>
</form></td><td class="content" width="99%"><table class="problems" width="100%">
<tr class="navigation">
<td><a href="https://spoj.sphere.pl/submit/ABWORDS/">Submit</a></td>
<td><a href="https://spoj.sphere.pl/status/ABWORDS/">All submissions</a></td>
<td><a href="https://spoj.sphere.pl/ranks/ABWORDS/">Best solutions</a></td>
<td><a href="https://spoj.sphere.pl/problems/ABWORDS.ps">PS</a></td>
<td><a href="https://spoj.sphere.pl/problems/ABWORDS.pdf">PDF</a></td>
<td><a href="../classical/sort=2,start=300.html">Back to list</a></td>
</tr>
</table>

<div class="prob">

<h2>SPOJ Problem Set </h2>
<h1>177. AB-words</h1>
<h2>Problem code: ABWORDS</h2>
<p align="justify">
<p align="justify">Every sequence of small letters a and b (also the empty sequence) is called an ab-word. If <i>X</i> = [<i>x</i><sub>1</sub>, ..., <i>x</i><i><sub>n</sub></i>] is an ab-word and <i>i</i>, <i>j</i> are integers such that 1 <= <i>i</i> <= <i>j</i> <= <i>n</i> then <i>X</i>[<i>i</i>..<i>j</i>] denotes the subword of <i>X</i> consisting of the letters <i>x</i><i><sub>i</sub></i>, ..., <i>x</i><i><sub>j</sub></i>. We say that an ab-word <i>X</i> = [<i>x</i><sub>1</sub>..<i>x</i><i><sub>n</sub></i>] is nice if it has as many letters a as b and for all <i>i</i> = 1, ..., <i>n</i> the subword <i>X</i>[1..<i>i</i>] has at least as many letters a as b.</p>
<p align="justify">Now, we give the inductive definition of the similarity between nice ab-words.</p>
<div align="justify">
<ul>
        <li align="justify">Every two empty ab-words (i.e. words with no letters) are similar</li>
        <li align="justify">Two non-empty nice ab-words <i>X</i> = [<i>x</i><sub>1</sub>, ..., <i>x</i><i><sub>n</sub></i>] and <i>Y</i> = [<i>y</i><sub>1</sub>, ..., <i>y</i><i><sub>m</sub></i>] are similar if they have the same length (<i>n</i> = <i>m</i>) and one of the following conditions if fulfilled: </li>
        <ol>
                <li align="justify"><i>x</i><sub>1</sub> = <i>y</i><sub>1</sub>, <i>x</i><i><sub>n</sub></i> = <i>y</i><i><sub>n</sub></i> and <i>X</i>[2..<i>n</i>-1] and <i>Y</i>[2..<i>n</i>-1] are similar ab-words and they are both nice;</li>
                <li align="justify">there exists <i>i</i>, 1 <= <i>i</i> <= <i>n</i>, such that <i>X</i>[1..<i>i</i>], <i>X</i>[<i>i</i>+1..<i>n</i>] are nice ab-words and</li>
                <ol type="a">
                        <li align="justify"><i>Y</i>[1..<i>i</i>], <i>Y</i>[<i>i</i>+1..<i>n</i>] are nice ab-words and <i>X</i>[1..<i>i</i>] is similar to <i>Y</i>[1..<i>i</i>] and <i>X</i>[<i>i</i>+1..<i>n</i>] is similar to <i>Y</i>[<i>i</i>+1..<i>n</i>], or</li>
                        <li align="justify"><i>Y</i>[1..<i>n</i>-i], <i>Y</i>[<i>n</i>-<i>i</i>+1..<i>n</i>] are nice ab-words and <i>X</i>[1..<i>i</i>] is similar to <i>Y</i>[<i>n</i>-<i>i</i>+1..<i>n</i>] and <i>X</i>[<i>i</i>+1..<i>n</i>] is similar to <i>Y</i>[1..<i>n</i>-<i>i</i>].</li>
                </ol>
        </ol>
</ul>
</div>
<p align="justify">A <b>level of diversity</b> of a non-empty set <i>S</i> of nice ab-words is the maximal number of ab-words that can be chosen from <i>S</i> in such a way that for each pair <i>w</i><sub>1</sub>,<i>w</i><sub>2</sub> of chosen words, <i>w</i><sub>1</sub> is not similar to <i>w</i><sub>2</sub>.</p>


<h3>Task</h3>
<p align="justify">Write a program that for each test case:</p>
<div align="justify">
<ul align="justify">
        <li align="justify">reads elements of <i>S</i> from standard input;</li>
        <li align="justify">computes the level of diversity of the set <i>S</i>;</li>
        <li align="justify">writes the result to standard output.</li>
</ul></div>

<h3>Input</h3>
<p align="justify">The number of test cases <i>t</i> is in the first line of input, then <i>t</i> test cases follow separated by an empty line.</p>
<p align="justify">In the first line of a test case there is a number <i>n</i> of elements of the set <i>S</i>, 1 <= <i>n</i> <= 1000; in the following <i>n</i> lines there are elements of the set <i>S</i>, i.e. nice ab-words (one word in each line); the first letter of every ab-word is the first symbol in line and there are no spaces between two consecutive letters in the word; the length of every ab-word is an integer from the range [1..200]. </p>

<h3>Output</h3>
<p align="justify">For each test case your program should output one line with one integer - the level of diversity of <i>S</i>. </p>

<h3>Example</h3>
<pre><b><tt>Sample input:</tt></b>
1
3
aabaabbbab
abababaabb
abaaabbabb

<b><tt>Sample output:</tt></b>
2
</pre>


<hr>
<table border=0 cellspacing=0 cellpadding=0 align=left>
<tr><td width=130>Added by:</td><td><a href="https://spoj.sphere.pl/search/'Micha³%20Czuczman'">Micha³ Czuczman</a></td></tr>
<tr><td>Date:</td><td>2004-08-10</td></tr>
<tr><td>Time limit:</td><td>13s
</td></tr>
<tr><td>Source limit:</td><td>50000B</td></tr>
<tr><td>Resource:</td><td>5th Polish Olympiad in Informatics, stage 1 (Krzysztof Diks)</td></tr></table>
</div></td>
</tr>

<tr>
<td colspan="2" class="footer">

<script language="javascript" type="text/javascript">
<!--
function swapSheet(sheet, caller) {
    document.getElementById('theme').href=sheet;
    document.cookie="css_0="+sheet+"; path=/;";
    caller.href="#bottom";
}

function setWidth(w, caller) {
    document.getElementById('maintable').style.width=w;
    document.cookie="res="+w+"; path=/;";
    caller.href="#bottom";
}
//-->

</script>
        <table width="100%">
    <tr>
	<td align="left">
            <a href="http://www.pg.gda.pl/eng.html"><IMG src="https://spoj.sphere.pl/gfx/logo-pg" alt="www.pg.gda.pl" border=0 height=36 width=44></a>&nbsp;
            <a href="http://www.eti.pg.gda.pl/"><IMG src="https://spoj.sphere.pl/gfx/logo-eti" alt="www.eti.pg.gda.pl" border=0 height=36 width=44></a>
	</td>
	<td align="center">
	    page size:
	    <a href="https://spoj.sphere.pl/?res=755"  onClick="setWidth('755', this)">800x600</a>
	    <a href="https://spoj.sphere.pl/?res=980"  onClick="setWidth('980', this)">1024x768</a>
	    <a href="https://spoj.sphere.pl/?res=100%" onClick="setWidth('100%', this)">Full</a>
	    &nbsp;&nbsp;
	    theme:
	    <a href="../../indexb6a4.html?css=/themes/skin1.css" onClick="swapSheet('../../themes/skin1.css', this)">olive</a>
	    <a href="../../index3840.html?css=/themes/skin2.css" onClick="swapSheet('../../themes/skin2.css', this)">banana</a>
	    <a href="../../index80f0.html?css=/themes/skin3.css" onClick="swapSheet('../../themes/skin3.css', this)">plum</a>
	    <br>
	    <a href="http://sphere.pl/?id=66">spoj team at sphere</a> &copy; 2004-05 all rights reserved
	</td>
	<td align="right">
            <a href="http://task.gda.pl/english/"><IMG src="https://spoj.sphere.pl/gfx/logo-task" alt="task.gda.pl" border=0 height=36 width=44></a>&nbsp;
            <a href="http://sphere.pl/"><IMG src="https://spoj.sphere.pl/gfx/logo-sphere" alt="sphere.pl" border=0 height=32></a>
	</td>
    </tr>
    </table>
    </tr></table>
</center>
</body>

<!-- Mirrored from spoj.sphere.pl/problems/ABWORDS/ by HTTrack Website Copier/3.x [XR&CO'2005], Tue, 10 Jan 2006 04:57:22 GMT -->
</html>